<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - NeonRewards</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'Admin-settings.css' %}">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-brand">
            <i class="fas fa-tasks"></i>
            <span>NeonRewards</span>
        </div>
        <div class="navbar-menu">
            {% if user.is_superuser %}
            <a href="{% url 'home' %}" class="navbar-item"><i class="fas fa-home"></i> Home</a>
            <a href="{% url 'add_task' %}" class="navbar-item"><i class="fas fa-list-check"></i> Tasks</a>
            <a href="{% url 'api' %}" class="navbar-item"><i class="fas fa-cogs"></i> API</a>
            <a href="{% url 'admin-dash' %}" class="navbar-item"><i class="fas fa-home"></i> Dashboard</a>
            <a href="{% url 'profile' %}" class="navbar-item"><i class="fas fa-user"></i> Profile</a>
            {% elif user.is_authenticated %}
            <a href="{% url 'home' %}" class="navbar-item"><i class="fas fa-home"></i> Home</a>
            <a href="{% url 'task' %}" class="navbar-item"><i class="fas fa-list-check"></i> Tasks</a>
            <a href="{% url 'dashboard' %}" class="navbar-item"><i class="fas fa-home"></i> Dashboard</a>
            <a href="{% url 'profile' %}" class="navbar-item"><i class="fas fa-user"></i> Profile</a>
            {% else %}
            <a href="{% url 'home' %}" class="navbar-item"><i class="fas fa-home"></i> Home</a>
            <a href="{% url 'task' %}" class="navbar-item"><i class="fas fa-list-check"></i> Tasks</a>
            <a href="{% url 'api' %}" class="navbar-item"><i class="fas fa-cogs"></i> API</a>
            <a href="{% url 'login' %}" class="navbar-item"><i class="fas fa-sign-in"></i>  Login</a>
            <a href="{% url 'signup' %}" class="navbar-item"><i class="fas fa-user-plus"></i>  Sign Up</a>
            {% endif %}

        </div>
        <button class="menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
    </nav>

    <!-- Admin Container -->
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="admin-sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-title">Admin Panel</h2>
            </div>
            <div class="sidebar-section">
                <h3 class="section-title">Main</h3>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="{% url 'admin-dash' %}">
                            <i class="fas fa-home"></i>Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-users"></i>Users
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'add_task' %}">
                            <i class="fas fa-file-alt"></i>Add Tasks
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-comments"></i>Comments
                        </a>
                    </li>
                </ul>
            </div>
            <div class="sidebar-section">
                <h3 class="section-title">Settings</h3>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-cog"></i>Site Settings
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-user-shield"></i>Permissions
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-key"></i>Security
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="admin-content">
            <div class="admin-header">
                <h1 class="admin-title">Settings</h1>
                <p class="admin-subtitle">Welcome back, {{ user.username }}</p>
            </div>

            <!-- Statistics Cards -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="admin-card">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-muted mb-1">Total Users</h6>
                                <h3 class="mb-0">1,234</h3>
                            </div>
                            <div class="text-primary">
                                <i class="fas fa-users fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="admin-card">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-muted mb-1">Total Tasks</h6>
                                <h3 class="mb-0">567</h3>
                            </div>
                            <div class="text-success">
                                <i class="fas fa-file-alt fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="admin-card">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-muted mb-1">Apps Downloaded</h6>
                                <h3 class="mb-0">890</h3>
                            </div>
                            <div class="text-warning">
                                <i class="fas fa-comments fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="admin-card">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-muted mb-1">Points Distributed</h6>
                                <h3 class="mb-0">12,345</h3>
                            </div>
                            <div class="text-info">
                                <i class="fas fa-eye fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Users Table -->
            {% if forms %}
            <div class="admin-card">
                <div class="card-header">
                    <h5 class="card-title">New Users</h5>

                    <button class="btn btn-admin">
                        <i class="fas fa-plus me-2"></i>{{forms.add_user}}
                    </button>

                </div>
                {% endif %}

                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Status</th>
                                <th>Joined</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for user in users %}
                            <tr>
                                <td>{{user.username}}</td>
                                <td>{{user.email}}</td>
                                <td><span class="status-badge status-active">{{user.is_active}}</span></td>
                                <td>{{user.date_joined}}</td>
                                <td>
                                    <a href="{% url 'edit_user' user.id %}" class="action-btn me-2"><i class="fas fa-edit"></i></a>
                                    <a href="{% url 'delete_user' user.id %}" class="action-btn"><i class="fas fa-trash"></i></a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script>
        const toggleButton = document.querySelector('.menu-toggle');
        const navbarMenu = document.querySelector('.navbar-menu');
    
        toggleButton.addEventListener('click', () => {
            navbarMenu.classList.toggle('active');
        });
    </script>
</body>
</html>
